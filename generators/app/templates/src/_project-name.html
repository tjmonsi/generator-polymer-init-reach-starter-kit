<!-- Polymer Global dependencies -->
<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/reach-core/reach-core-router/reach-core-router.html">
<link rel="import" href="../bower_components/reach-core/reach-core-layout/reach-core-layout.html">

<!-- Custom Element dependencies -->

<link rel="import" href="./<%= projectNameSlugged %>-header/<%= projectNameSlugged %>-header.html">
<link rel="import" href="./<%= projectNameSlugged %>-drawer/<%= projectNameSlugged %>-drawer.html">

<!--
`<<%= projectNameSlugged %>-app>` is the main core element called in the index.html that
renders the pages.

Currently we have hard-coded the pages, they are lazily loaded inside the dom-module

In typical use, just slap some `<<%= projectNameSlugged %>-app>` at the top of your body:

    <body>
      <<%= projectNameSlugged %>-app></<%= projectNameSlugged %>-app>

Wham! It's all awesome now!
-->
<dom-module id="<%= projectNameSlugged %>-app">
  <!-- Lazy loaded dependencies -->
  <!-- LAZY LOADER STARTS HERE -->
  <link rel="lazy-import" href="/src/pages/web-home/web-home.html" group="web-home">
  <link rel="lazy-import" href="/src/pages/web-404/web-404.html" group="web-404">
  <link rel="lazy-import" href="/src/pages/web-403/web-403.html" group="web-403">
  <!-- LAZY LOADER ENDS HERE -->

  <template>
    <style is="custom-style">
    </style>

    <reach-core-layout scroll-progress="{{scrollProgress}}">

      <<%= projectNameSlugged %>-header 
        main-header 
        scroll-progress="{{scrollProgress}}" 
        user="{{user}}"></<%= projectNameSlugged %>-header>
      <<%= projectNameSlugged %>-drawer 
        main-drawer 
        navigation-list="[[navigationList]]" 
        scroll-progress="{{scrollProgress}}" 
        user="{{user}}"></<%= projectNameSlugged %>-drawer>

      <reach-core-router
          main-content
          parent-tag-name="<%= projectNameSlugged %>-app"
          query-params="{{queryParams}}">

        <!-- ROUTER STARTS HERE -->
        <web-home route="/" scroll-progress="{{scrollProgress}}" user="{{user}}"  ></web-home>
        <web-404 route="not-found" scroll-progress="{{scrollProgress}}" user="{{user}}"  ></web-404>
        <web-403 route="not-authorized" scroll-progress="{{scrollProgress}}" user="{{user}}"  ></web-403>
        <!-- ROUTER ENDS HERE -->
        <!--<web-home -->
        <!--  name="home" -->
        <!--  label="Home" -->
        <!--  scroll-progress="{{scrollProgress}}" -->
        <!--  user="{{user}}"-->
        <!--  query-params="{{queryParams}}"></web-home>-->

      </reach-core-router>
    </reach-core-layout>

  </template>
  <script>
    /*global Polymer*/

    Polymer({
      is: '<%= projectNameSlugged %>-app',

      properties: {
        navigationList: {
          type: Array,
          readOnly: true,
          value: function() {
            /* NAVIGATION LIST STARTS HERE */
            return [
              {
                label: 'Home',
                url: '/'
              }
            ];
            /* NAVIGATION LIST ENDS HERE */
          }
        },
        scrollProgress: {
          type: Number
        },
        user: {
          type: Object
        },
        queryParams: {
          type: Object
        }
      },

      ready: function() {
        this.fire('<%= projectNameSlugged %>-app-ready');

      }
    });
  </script>
</dom-module>