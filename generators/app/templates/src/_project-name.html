<!-- Polymer Global dependencies -->
<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/reach-core/reach-core-route/reach-core-route.html">
<link rel="import" href="../bower_components/reach-core/reach-core-layout/reach-core-layout.html">

<!-- Custom Element dependencies -->

<link rel="import" href="./<%= projectNameSlugged >-header/<%= projectNameSlugged >-header.html">
<link rel="import" href="./<%= projectNameSlugged >-drawer/<%= projectNameSlugged >-drawer.html">

<!--
`<<%= projectNameSlugged >-app>` is the main core element called in the index.html that
renders the pages.

Currently we have hard-coded the pages, they are lazily loaded inside the dom-module

In typical use, just slap some `<<%= projectNameSlugged >-app>` at the top of your body:

    <body>
      <<%= projectNameSlugged >-app></<%= projectNameSlugged >-app>

Wham! It's all awesome now!
-->
<dom-module id="<%= projectNameSlugged >-app">
  <!-- Lazy loaded dependencies -->
  <!-- this should be put here so that it can be found by the importer below -->
  <link rel="lazy-import" href="/src/pages/web-home/web-home.html" group="web-home">
  <link rel="lazy-import" href="/src/pages/web-404/web-404.html" group="web-404">
  <link rel="lazy-import" href="/src/pages/web-403/web-403.html" group="web-403">

  <template>
    <style is="custom-style">
    </style>

    <reach-core-layout>

      <reach-header main-header></reach-header>
      <reach-drawer main-drawer navigation-list="[[navigationList]]"></reach-drawer>

      <reach-core-route
          main-content
          from-element-name="<%= projectNameSlugged >-app"
          subroute="{{subroute}}"
          not-found-tag="[[notFoundTag]]"
          not-authorized-tag="[[notAuthorizedTag]]"
          navigation-list="{{navigationList}}"
          default-page="home">

        <web-home name="home" label="Home"></web-home>

      </reach-core-route>
    </reach-core-layout>

  </template>
  <script>
    /*global Polymer*/

    Polymer({
      is: '<%= projectNameSlugged >-app',

      properties: {
        notFoundTag: {
          type: String,
          value: 'web-404'
        },
        notAuthorizedTag: {
          type: String,
          value: 'web-403'
        },
        navigationList: {
          type: Array
        }
      },

      ready: function() {
        this.fire('<%= projectNameSlugged >-app-ready');

      }
    });
  </script>
</dom-module>